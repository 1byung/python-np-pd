"""
===============================================================================
NumPy ì§‘ì¤‘ ì—°ìŠµë¬¸ì œ 20ì œ - ì •ë‹µ
===============================================================================
"""

import numpy as np

print("=" * 80)
print("                    NumPy ì§‘ì¤‘ ì—°ìŠµë¬¸ì œ 20ì œ - ì •ë‹µ")
print("=" * 80 + "\n")


# ================================================================================
# ë‚œì´ë„ â­ ì‰¬ì›€ (1-7)
# ================================================================================
print("\n" + "=" * 80)
print("ë‚œì´ë„ â­ ì‰¬ì›€ (1-7)")
print("=" * 80 + "\n")


# ë¬¸ì œ 1: 1ë¶€í„° 50ê¹Œì§€ì˜ í™€ìˆ˜ë§Œ í¬í•¨í•˜ëŠ” ë°°ì—´ ë§Œë“¤ê¸°
print("ë¬¸ì œ 1) 1ë¶€í„° 50ê¹Œì§€ì˜ í™€ìˆ˜ë§Œ í¬í•¨í•˜ëŠ” ë°°ì—´ì„ ë§Œë“œì„¸ìš”.")
arr1 = np.arange(1, 51, 2)
print(f"ê²°ê³¼: {arr1}")
print()


# ë¬¸ì œ 2: 5x5 í¬ê¸°ì˜ ë‹¨ìœ„ í–‰ë ¬(identity matrix) ë§Œë“¤ê¸°
print("ë¬¸ì œ 2) 5x5 í¬ê¸°ì˜ ë‹¨ìœ„ í–‰ë ¬ì„ ë§Œë“œì„¸ìš”.")
arr2 = np.eye(5)
print(f"ê²°ê³¼:\n{arr2}")
print()


# ë¬¸ì œ 3: 0ë¶€í„° 1ê¹Œì§€ë¥¼ 10ë“±ë¶„í•œ ë°°ì—´ ë§Œë“¤ê¸°
print("ë¬¸ì œ 3) 0ë¶€í„° 1ê¹Œì§€ë¥¼ 10ë“±ë¶„í•œ ë°°ì—´ì„ ë§Œë“œì„¸ìš”.")
arr3 = np.linspace(0, 1, 11)
print(f"ê²°ê³¼: {arr3}")
print()


# ë¬¸ì œ 4: 3í–‰ 2ì—´ì˜ ê°’ ì¶”ì¶œí•˜ê¸°
print("ë¬¸ì œ 4) 3í–‰ 2ì—´ì˜ ê°’ì„ ì¶”ì¶œí•˜ì„¸ìš”.")
arr4 = np.array([[10, 20, 30, 40],
                 [50, 60, 70, 80],
                 [90, 100, 110, 120],
                 [130, 140, 150, 160]])
value = arr4[3, 2]
print(f"3í–‰ 2ì—´ì˜ ê°’: {value}")
print()


# ë¬¸ì œ 5: 1ì°¨ì› ë°°ì—´ì„ 2x5 í˜•íƒœë¡œ ë³€í˜•í•˜ê¸°
print("ë¬¸ì œ 5) ë°°ì—´ì„ 2x5 í˜•íƒœë¡œ ë³€í˜•í•˜ì„¸ìš”.")
arr5 = np.arange(10)
reshaped = arr5.reshape(2, 5)
print(f"ê²°ê³¼:\n{reshaped}")
print()


# ë¬¸ì œ 6: ë‘ ë°°ì—´ì˜ ì°¨ì´(ì ˆëŒ“ê°’) êµ¬í•˜ê¸°
print("ë¬¸ì œ 6) ë‘ ë°°ì—´ì˜ ì°¨ì´(ì ˆëŒ“ê°’)ë¥¼ êµ¬í•˜ì„¸ìš”.")
a = np.array([10, 20, 30, 40, 50])
b = np.array([15, 18, 35, 38, 55])
diff = np.abs(a - b)
print(f"ì°¨ì´: {diff}")
print()


# ë¬¸ì œ 7: ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì˜ ì¸ë±ìŠ¤ ì°¾ê¸°
print("ë¬¸ì œ 7) ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ìœ¼ì„¸ìš”.")
arr7 = np.array([23, 45, 12, 67, 89, 34, 56, 78, 9, 51])
max_idx = arr7.argmax()
min_idx = arr7.argmin()
print(f"ìµœëŒ“ê°’ ì¸ë±ìŠ¤: {max_idx}, ìµœì†Ÿê°’ ì¸ë±ìŠ¤: {min_idx}")
print()


# ================================================================================
# ë‚œì´ë„ â­â­ ì¤‘ê°„ (8-14)
# ================================================================================
print("\n" + "=" * 80)
print("ë‚œì´ë„ â­â­ ì¤‘ê°„ (8-14)")
print("=" * 80 + "\n")


# ë¬¸ì œ 8: 10ë³´ë‹¤ í¬ê³  50ë³´ë‹¤ ì‘ì€ ê°’ë§Œ ì„ íƒí•˜ê¸°
print("ë¬¸ì œ 8) 10ë³´ë‹¤ í¬ê³  50ë³´ë‹¤ ì‘ì€ ê°’ë§Œ ì„ íƒí•˜ì„¸ìš”.")
arr8 = np.array([5, 15, 25, 35, 45, 55, 65, 75])
result_8 = arr8[(arr8 > 10) & (arr8 < 50)]
print(f"ê²°ê³¼: {result_8}")
print()


# ë¬¸ì œ 9: ê° í–‰ì˜ í‰ê· ë³´ë‹¤ í° ê°’ í™•ì¸í•˜ê¸°
print("ë¬¸ì œ 9) ê° ê°’ì´ í•´ë‹¹ í–‰ í‰ê· ë³´ë‹¤ í°ì§€ í™•ì¸í•˜ì„¸ìš”.")
arr9 = np.array([[1, 2, 3, 4],
                 [5, 6, 7, 8],
                 [9, 10, 11, 12]])
row_means = arr9.mean(axis=1)
above_mean = arr9 > row_means[:, np.newaxis]
print(f"ê° í–‰ì˜ í‰ê· : {row_means}")
print(f"í‰ê· ë³´ë‹¤ í° ê°’:\n{above_mean}")
print()


# ë¬¸ì œ 10: 2D ë°°ì—´ì„ 1D ë°°ì—´ë¡œ í‰íƒ„í™”í•˜ê¸°
print("ë¬¸ì œ 10) 2D ë°°ì—´ì„ 1D ë°°ì—´ë¡œ í‰íƒ„í™”í•˜ì„¸ìš”.")
arr10 = np.array([[1, 2, 3],
                  [4, 5, 6],
                  [7, 8, 9]])
flattened = arr10.flatten()
# ë˜ëŠ” flattened = arr10.ravel()
print(f"ê²°ê³¼: {flattened}")
print()


# ë¬¸ì œ 11: ê°’ì„ íŠ¹ì • ë²”ìœ„ë¡œ ì œí•œí•˜ê¸°
print("ë¬¸ì œ 11) ê°’ì„ 20~80 ë²”ìœ„ë¡œ ì œí•œí•˜ì„¸ìš”.")
arr11 = np.array([10, 25, 50, 75, 100, 5, 90, 120])
clipped = np.clip(arr11, 20, 80)
print(f"ê²°ê³¼: {clipped}")
print()


# ë¬¸ì œ 12: ìƒìœ„ 20% ê°’ë“¤ë§Œ ì„ íƒí•˜ê¸°
print("ë¬¸ì œ 12) ìƒìœ„ 20% ê°’ë“¤ë§Œ ì„ íƒí•˜ì„¸ìš”.")
np.random.seed(42)
arr12 = np.random.randint(0, 101, size=50)
top_20_percent = np.sort(arr12)[-10:]
print(f"ìƒìœ„ 20% ê°’ë“¤: {top_20_percent}")
print()


# ë¬¸ì œ 13: ë‘ ë°°ì—´ì„ ì„¸ë¡œë¡œ ìŒ“ê¸°
print("ë¬¸ì œ 13) ë‘ ë°°ì—´ì„ ì„¸ë¡œë¡œ ìŒ“ìœ¼ì„¸ìš”.")
a = np.array([[1, 2, 3]])
b = np.array([[4, 5, 6]])
stacked = np.vstack([a, b])
print(f"ê²°ê³¼:\n{stacked}")
print()


# ë¬¸ì œ 14: ì¤‘ì•™ê°’ê³¼ 75 ë°±ë¶„ìœ„ìˆ˜ êµ¬í•˜ê¸°
print("ë¬¸ì œ 14) ì¤‘ì•™ê°’ê³¼ 75 ë°±ë¶„ìœ„ìˆ˜ë¥¼ êµ¬í•˜ì„¸ìš”.")
arr14 = np.array([10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
median = np.median(arr14)
percentile_75 = np.percentile(arr14, 75)
print(f"ì¤‘ì•™ê°’: {median}")
print(f"75 ë°±ë¶„ìœ„ìˆ˜: {percentile_75}")
print()


# ================================================================================
# ë‚œì´ë„ â­â­â­ ì–´ë ¤ì›€ (15-20)
# ================================================================================
print("\n" + "=" * 80)
print("ë‚œì´ë„ â­â­â­ ì–´ë ¤ì›€ (15-20)")
print("=" * 80 + "\n")


# ë¬¸ì œ 15: ì—°ì†ëœ ì¤‘ë³µê°’ ì œê±°í•˜ê¸°
print("ë¬¸ì œ 15) ì—°ì†ëœ ì¤‘ë³µê°’ì„ ì œê±°í•˜ì„¸ìš”.")
arr15 = np.array([1, 1, 1, 2, 2, 3, 3, 3, 3, 4, 5, 5, 5, 6])
# ë°©ë²• 1: ë§ˆìŠ¤í¬ ì‚¬ìš©
result_15 = arr15[np.concatenate(([True], arr15[1:] != arr15[:-1]))]
# ë°©ë²• 2: np.diff ì‚¬ìš©
# mask = np.concatenate(([True], np.diff(arr15) != 0))
# result_15 = arr15[mask]
print(f"ê²°ê³¼: {result_15}")
print()


# ë¬¸ì œ 16: ê° í–‰ì„ 0~1 ë²”ìœ„ë¡œ ì •ê·œí™”í•˜ê¸°
print("ë¬¸ì œ 16) ê° í–‰ì„ 0~1 ë²”ìœ„ë¡œ ì •ê·œí™”í•˜ì„¸ìš”.")
arr16 = np.array([[10, 20, 30],
                  [100, 200, 300],
                  [5, 15, 25]])
row_min = arr16.min(axis=1, keepdims=True)
row_max = arr16.max(axis=1, keepdims=True)
normalized = (arr16 - row_min) / (row_max - row_min)
print(f"ê²°ê³¼:\n{normalized}")
print()


# ë¬¸ì œ 17: ê°€ì¥ ê°€ê¹Œìš´ ë‘ ê°’ ì°¾ê¸°
print("ë¬¸ì œ 17) ì°¨ì´ê°€ ê°€ì¥ ì‘ì€ ë‘ ê°’ì„ ì°¾ìœ¼ì„¸ìš”.")
arr17 = np.array([23, 45, 67, 12, 89, 34, 56, 78, 90, 51])
sorted_arr = np.sort(arr17)
diffs = sorted_arr[1:] - sorted_arr[:-1]
min_diff_idx = diffs.argmin()
value1 = sorted_arr[min_diff_idx]
value2 = sorted_arr[min_diff_idx + 1]
print(f"ê°€ì¥ ê°€ê¹Œìš´ ë‘ ê°’: {value1}, {value2} (ì°¨ì´: {abs(value1-value2)})")
print()


# ë¬¸ì œ 18: í‘œì¤€í¸ì°¨ê°€ ê°€ì¥ í° ì—´ ì°¾ê¸°
print("ë¬¸ì œ 18) í‘œì¤€í¸ì°¨ê°€ ê°€ì¥ í° ì—´ì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ìœ¼ì„¸ìš”.")
np.random.seed(42)
arr18 = np.random.randint(0, 100, size=(5, 4))
col_stds = arr18.std(axis=0)
max_std_col = col_stds.argmax()
print(f"ê° ì—´ì˜ í‘œì¤€í¸ì°¨: {col_stds}")
print(f"í‘œì¤€í¸ì°¨ê°€ ê°€ì¥ í° ì—´ ì¸ë±ìŠ¤: {max_std_col}")
print()


# ë¬¸ì œ 19: ìŒìˆ˜ëŠ” 0ìœ¼ë¡œ, ì–‘ìˆ˜ëŠ” ì œê³±í•˜ê¸°
print("ë¬¸ì œ 19) ìŒìˆ˜ëŠ” 0ìœ¼ë¡œ, ì–‘ìˆ˜ëŠ” ì œê³±í•˜ì„¸ìš”.")
arr19 = np.array([-5, 3, -2, 7, -1, 4, -8, 6])
result_19 = np.where(arr19 < 0, 0, arr19**2)
print(f"ê²°ê³¼: {result_19}")
print()


# ë¬¸ì œ 20: ë‘ ë°°ì—´ì˜ ê³µí†µ ì›ì†Œ ì°¾ê¸°
print("ë¬¸ì œ 20) ë‘ ë°°ì—´ì˜ ê³µí†µ ì›ì†Œë¥¼ ì°¾ìœ¼ì„¸ìš”.")
a = np.array([1, 2, 3, 4, 5, 6, 7, 8])
b = np.array([5, 6, 7, 8, 9, 10, 11, 12])
common = np.intersect1d(a, b)
print(f"ê³µí†µ ì›ì†Œ: {common}")
print()


print("=" * 80)
print("                    ëª¨ë“  ë¬¸ì œ í•´ì„¤ ì™„ë£Œ! ğŸ‰")
print("=" * 80)
